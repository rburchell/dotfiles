#!/bin/sh
if [ -z "$1" ]; then
    echo "Need a thing to open"
    exit 1
fi
if [ -d "$1" ]; then
    # for whatever reason, xdg-open can't handle this.
    gnome-open "$1"
else
    # if it's text, i want to be able to view it in an editor. no exceptions.
    file "$1" | grep "text"
    if [ $? -ne 0 ]; then
        # and if it's not, i want to open it "normally".
        xdg-open "$1"
    fi
    gvim --remote "$1"
fi
